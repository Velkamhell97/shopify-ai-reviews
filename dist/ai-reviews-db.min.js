(()=>{var ut=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Jt=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,I=s>>2,M=(s&3)<<4|a>>4,J=(a&15)<<2|d>>6,X=d&63;c||(X=64,o||(J=64)),i.push(n[I],n[M],n[J],n[X])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ut(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Jt(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let d=r<t.length?n[t.charAt(r)]:64;++r;let M=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||d==null||M==null)throw new fe;let J=s<<2|a>>4;if(i.push(J),d!==64){let X=a<<4&240|d>>2;if(i.push(X),M!==64){let Yt=d<<6&192|M;i.push(Yt)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},fe=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xt=function(t){let e=ut(t);return lt.encodeByteArray(e,!0)},B=function(t){return Xt(t).replace(/\./g,"")},Zt=function(t){try{return lt.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function en(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tn=()=>en().__FIREBASE_DEFAULTS__,nn=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rn=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Zt(t[1]);return e&&JSON.parse(e)},ht=()=>{try{return tn()||nn()||rn()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sn=t=>{var e,n;return(n=(e=ht())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dt=t=>{let e=sn(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},pe=()=>{var t;return(t=ht())===null||t===void 0?void 0:t.config};var Z=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function ft(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[B(JSON.stringify(n)),B(JSON.stringify(o)),""].join(".")}function pt(){try{return typeof indexedDB=="object"}catch{return!1}}function mt(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var on="FirebaseError",b=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=on,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$.prototype.create)}},$=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?an(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new b(r,a,i)}};function an(t,e){return t.replace(cn,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var cn=/\{\$([^}]+)}/g;function q(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(ct(s)&&ct(o)){if(!q(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function ct(t){return t!==null&&typeof t=="object"}var Ur=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var E=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var V="[DEFAULT]";var me=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new Z;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ln(e))try{this.getOrInitializeService({instanceIdentifier:V})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=V){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=V){return this.instances.has(e)}getOptions(e=V){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:un(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=V){return this.component?this.component.multipleInstances?e:V:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function un(t){return t===V?void 0:t}function ln(t){return t.instantiationMode==="EAGER"}var ee=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new me(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hn=[],f;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(f||(f={}));var dn={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},fn=f.INFO,pn={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},mn=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=pn[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},k=class{constructor(e){this.name=e,this._logLevel=fn,this._logHandler=mn,this._userLogHandler=null,hn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in f))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...e),this._logHandler(this,f.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...e),this._logHandler(this,f.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,f.INFO,...e),this._logHandler(this,f.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,f.WARN,...e),this._logHandler(this,f.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...e),this._logHandler(this,f.ERROR,...e)}};var gn=(t,e)=>e.some(n=>t instanceof n),_t,yt;function _n(){return _t||(_t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yn(){return yt||(yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wt=new WeakMap,_e=new WeakMap,vt=new WeakMap,ge=new WeakMap,we=new WeakMap;function wn(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(v(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wt.set(n,t)}).catch(()=>{}),we.set(e,t),e}function vn(t){if(_e.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});_e.set(t,e)}var ye={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _e.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vt.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return v(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bt(t){ye=t(ye)}function bn(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(te(this),e,...n);return vt.set(i,e.sort?e.sort():[e]),v(i)}:yn().includes(t)?function(...e){return t.apply(te(this),e),v(wt.get(this))}:function(...e){return v(t.apply(te(this),e))}}function En(t){return typeof t=="function"?bn(t):(t instanceof IDBTransaction&&vn(t),gn(t,_n())?new Proxy(t,ye):t)}function v(t){if(t instanceof IDBRequest)return wn(t);if(ge.has(t))return ge.get(t);let e=En(t);return e!==t&&(ge.set(t,e),we.set(e,t)),e}var te=t=>we.get(t);function Tt(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=v(o);return i&&o.addEventListener("upgradeneeded",c=>{i(v(o.result),c.oldVersion,c.newVersion,v(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Tn=["get","getKey","getAll","getAllKeys","count"],In=["put","add","delete","clear"],ve=new Map;function Et(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ve.get(e))return ve.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=In.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Tn.includes(n)))return;let s=async function(o,...a){let c=this.transaction(o,r?"readwrite":"readonly"),d=c.store;return i&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),r&&c.done]))[0]};return ve.set(e,s),s}bt(t=>({...t,get:(e,n,i)=>Et(e,n)||t.get(e,n,i),has:(e,n)=>!!Et(e,n)||t.has(e,n)}));var Ee=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(An(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function An(t){let e=t.getComponent();return e?.type==="VERSION"}var Te="@firebase/app",It="0.10.4";var x=new k("@firebase/app"),Sn="@firebase/app-compat",Rn="@firebase/analytics-compat",Pn="@firebase/analytics",Dn="@firebase/app-check-compat",Vn="@firebase/app-check",xn="@firebase/auth",On="@firebase/auth-compat",Cn="@firebase/database",kn="@firebase/database-compat",Nn="@firebase/functions",Fn="@firebase/functions-compat",Ln="@firebase/installations",Mn="@firebase/installations-compat",Bn="@firebase/messaging",$n="@firebase/messaging-compat",qn="@firebase/performance",Un="@firebase/performance-compat",jn="@firebase/remote-config",zn="@firebase/remote-config-compat",Hn="@firebase/storage",Wn="@firebase/storage-compat",Gn="@firebase/firestore",Kn="@firebase/vertexai-preview",Qn="@firebase/firestore-compat",Yn="firebase",Jn="10.12.1";var Ie="[DEFAULT]",Xn={[Te]:"fire-core",[Sn]:"fire-core-compat",[Pn]:"fire-analytics",[Rn]:"fire-analytics-compat",[Vn]:"fire-app-check",[Dn]:"fire-app-check-compat",[xn]:"fire-auth",[On]:"fire-auth-compat",[Cn]:"fire-rtdb",[kn]:"fire-rtdb-compat",[Nn]:"fire-fn",[Fn]:"fire-fn-compat",[Ln]:"fire-iid",[Mn]:"fire-iid-compat",[Bn]:"fire-fcm",[$n]:"fire-fcm-compat",[qn]:"fire-perf",[Un]:"fire-perf-compat",[jn]:"fire-rc",[zn]:"fire-rc-compat",[Hn]:"fire-gcs",[Wn]:"fire-gcs-compat",[Gn]:"fire-fst",[Qn]:"fire-fst-compat",[Kn]:"fire-vertex","fire-js":"fire-js",[Yn]:"fire-js-all"};var ne=new Map,Zn=new Map,Ae=new Map;function At(t,e){try{t.container.addComponent(e)}catch(n){x.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function U(t){let e=t.name;if(Ae.has(e))return x.debug(`There were multiple attempts to register component ${e}.`),!1;Ae.set(e,t);for(let n of ne.values())At(n,t);for(let n of Zn.values())At(n,t);return!0}function Dt(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var er={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},A=new $("app","Firebase",er);var Se=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw A.create("app-deleted",{appName:this._name})}};var Vt=Jn;function De(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Ie,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw A.create("bad-app-name",{appName:String(r)});if(n||(n=pe()),!n)throw A.create("no-options");let s=ne.get(r);if(s){if(q(n,s.options)&&q(i,s.config))return s;throw A.create("duplicate-app",{appName:r})}let o=new ee(r);for(let c of Ae.values())o.addComponent(c);let a=new Se(n,i,o);return ne.set(r,a),a}function xt(t=Ie){let e=ne.get(t);if(!e&&t===Ie&&pe())return De();if(!e)throw A.create("no-app",{appName:t});return e}function S(t,e,n){var i;let r=(i=Xn[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),x.warn(a.join(" "));return}U(new E(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var tr="firebase-heartbeat-database",nr=1,j="firebase-heartbeat-store",be=null;function Ot(){return be||(be=Tt(tr,nr,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(j)}catch(n){console.warn(n)}}}}).catch(t=>{throw A.create("idb-open",{originalErrorMessage:t.message})})),be}async function rr(t){try{let n=(await Ot()).transaction(j),i=await n.objectStore(j).get(Ct(t));return await n.done,i}catch(e){if(e instanceof b)x.warn(e.message);else{let n=A.create("idb-get",{originalErrorMessage:e?.message});x.warn(n.message)}}}async function St(t,e){try{let i=(await Ot()).transaction(j,"readwrite");await i.objectStore(j).put(e,Ct(t)),await i.done}catch(n){if(n instanceof b)x.warn(n.message);else{let i=A.create("idb-set",{originalErrorMessage:n?.message});x.warn(i.message)}}}function Ct(t){return`${t.name}!${t.options.appId}`}var ir=1024,sr=30*24*60*60*1e3,Re=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Pe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Rt();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=sr}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Rt(),{heartbeatsToSend:i,unsentEntries:r}=or(this._heartbeatsCache.heartbeats),s=B(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}};function Rt(){return new Date().toISOString().substring(0,10)}function or(t,e=ir){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Pt(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Pt(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Pe=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pt()?mt().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await rr(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let r=await this.read();return St(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let r=await this.read();return St(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}};function Pt(t){return B(JSON.stringify({version:2,heartbeats:t})).length}function ar(t){U(new E("platform-logger",e=>new Ee(e),"PRIVATE")),U(new E("heartbeat",e=>new Re(e),"PRIVATE")),S(Te,It,t),S(Te,It,"esm2017"),S("fire-js","")}ar("");var cr="firebase",ur="10.12.1";S(cr,ur,"app");var p=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};p.UNAUTHENTICATED=new p(null),p.GOOGLE_CREDENTIALS=new p("google-credentials-uid"),p.FIRST_PARTY=new p("first-party-uid"),p.MOCK_USER=new p("mock-user");var L="10.12.1";var N=new k("@firebase/firestore");function ie(t,...e){if(N.logLevel<=f.DEBUG){let n=e.map(it);N.debug(`Firestore (${L}): ${t}`,...n)}}function rt(t,...e){if(N.logLevel<=f.ERROR){let n=e.map(it);N.error(`Firestore (${L}): ${t}`,...n)}}function Ut(t,...e){if(N.logLevel<=f.WARN){let n=e.map(it);N.warn(`Firestore (${L}): ${t}`,...n)}}function it(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function m(t="Unexpected state"){let e=`FIRESTORE (${L}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function w(t,e){t||m()}function lr(t,e){return t}var kt="ok",hr="cancelled",z="unknown",h="invalid-argument",dr="deadline-exceeded",fr="not-found";var pr="permission-denied",Oe="unauthenticated",mr="resource-exhausted",F="failed-precondition",gr="aborted",_r="out-of-range",yr="unimplemented",wr="internal",vr="unavailable";var u=class extends b{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var se=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ce=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(p.UNAUTHENTICATED))}shutdown(){}},ke=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Ne=class{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(w(typeof e.accessToken=="string"),new se(e.accessToken,new p(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}},Fe=class{constructor(e,n,i){this.t=e,this.i=n,this.o=i,this.type="FirstParty",this.user=p.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);let e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}},Le=class{constructor(e,n,i){this.t=e,this.i=n,this.o=i}getToken(){return Promise.resolve(new Fe(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(p.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Me=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Be=class{constructor(e){this.h=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(w(typeof e.token=="string"),new Me(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}};var $e=class{constructor(e,n,i,r,s,o,a,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}},oe=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}},ae=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&m(),i===void 0?i=e.length-n:i>e.length-n&&m(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},_=class t extends ae{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new u(h,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},br=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ce=class t extends ae{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return br.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new u(h,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new u(h,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new u(h,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new u(h,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var P=class t{constructor(e){this.path=e}static fromPath(e){return new t(_.fromString(e))}static fromName(e){return new t(_.fromString(e).popFirst(5))}static empty(){return new t(_.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new _(e.slice()))}};function Er(t,e,n){if(!n)throw new u(h,`Function ${t}() cannot be called with an empty ${e}.`)}function Nt(t){if(!P.isDocumentKey(t))throw new u(h,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Tr(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":m()}function jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new u(h,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Tr(t);throw new u(h,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zt(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var re=null;function Ir(){return re===null?re=function(){return 268435456+Math.round(2147483648*Math.random())}():re++,"0x"+re.toString(16)}function Ft(t){return t===0&&1/t==-1/0}var Ar={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Lt,l;function Mt(t){if(t===void 0)return rt("RPC_ERROR","HTTP error has no status"),z;switch(t){case 200:return kt;case 400:return F;case 401:return Oe;case 403:return pr;case 404:return fr;case 409:return gr;case 416:return _r;case 429:return mr;case 499:return hr;case 500:return z;case 501:return yr;case 503:return vr;case 504:return dr;default:return t>=200&&t<300?kt:t>=400&&t<500?F:t>=500&&t<600?wr:z}}(l=Lt||(Lt={}))[l.OK=0]="OK",l[l.CANCELLED=1]="CANCELLED",l[l.UNKNOWN=2]="UNKNOWN",l[l.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",l[l.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",l[l.NOT_FOUND=5]="NOT_FOUND",l[l.ALREADY_EXISTS=6]="ALREADY_EXISTS",l[l.PERMISSION_DENIED=7]="PERMISSION_DENIED",l[l.UNAUTHENTICATED=16]="UNAUTHENTICATED",l[l.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",l[l.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",l[l.ABORTED=10]="ABORTED",l[l.OUT_OF_RANGE=11]="OUT_OF_RANGE",l[l.UNIMPLEMENTED=12]="UNIMPLEMENTED",l[l.INTERNAL=13]="INTERNAL",l[l.UNAVAILABLE=14]="UNAVAILABLE",l[l.DATA_LOSS=15]="DATA_LOSS";var qe=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.m=i+"://"+n.host,this.A=`projects/${r}/databases/${s}`,this.T=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get R(){return!1}P(n,i,r,s,o){let a=Ir(),c=this.I(n,i.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let d={"google-cloud-resource-prefix":this.A,"x-goog-request-params":this.T};return this.V(d,s,o),this.p(n,c,d,r).then(I=>(ie("RestConnection",`Received RPC '${n}' ${a}: `,I),I),I=>{throw Ut("RestConnection",`RPC '${n}' ${a} failed with error: `,I,"url: ",c,"request:",r),I})}g(n,i,r,s,o,a){return this.P(n,i,r,s,o)}V(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+L}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}I(n,i){let r=Ar[n];return`${this.m}/v1/${i}:${r}`}terminate(){}}{constructor(e,n){super(e),this.F=n}v(e,n){throw new Error("Not supported by FetchConnection")}async p(e,n,i,r){var s;let o=JSON.stringify(r),a;try{a=await this.F(n,{method:"POST",headers:i,body:o})}catch(c){let d=c;throw new u(Mt(d.status),"Request failed with error: "+d.statusText)}if(!a.ok){let c=await a.json();Array.isArray(c)&&(c=c[0]);let d=(s=c?.error)===null||s===void 0?void 0:s.message;throw new u(Mt(a.status),`Request failed with error: ${d??a.statusText}`)}return a.json()}};function Sr(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Ue=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=Sr(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function G(t,e){return t<e?-1:t>e?1:0}function Rr(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function Bt(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function st(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}var je=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var D=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new je("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};D.EMPTY_BYTE_STRING=new D("");var Pr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function K(t){if(w(!!t),typeof t=="string"){let e=0,n=Pr.exec(t);if(w(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:y(t.seconds),nanos:y(t.nanos)}}function y(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ze(t){return typeof t=="string"?D.fromBase64String(t):D.fromUint8Array(t)}var C=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new u(h,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new u(h,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new u(h,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new u(h,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};function Ht(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wt(t){let e=t.mapValue.fields.__previous_value__;return Ht(e)?Wt(e):e}function He(t){let e=K(t.mapValue.fields.__local_write_time__.timestampValue);return new C(e.seconds,e.nanos)}function We(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ht(t)?4:function(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}(t)?9007199254740991:10:m()}function Ge(t,e){if(t===e)return!0;let n=We(t);if(n!==We(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return He(t).isEqual(He(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=K(r.timestampValue),a=K(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ze(r.bytesValue).isEqual(ze(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return y(r.geoPointValue.latitude)===y(s.geoPointValue.latitude)&&y(r.geoPointValue.longitude)===y(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return y(r.integerValue)===y(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=y(r.doubleValue),a=y(s.doubleValue);return o===a?Ft(o)===Ft(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Rr(t.arrayValue.values||[],e.arrayValue.values||[],Ge);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Bt(o)!==Bt(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ge(o[c],a[c])))return!1;return!0}(t,e);default:return m()}}function Ve(t){return!!t&&"mapValue"in t}function H(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return st(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=H(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=H(t.arrayValue.values[n]);return e}return Object.assign({},t)}var g=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new C(0,0))}static max(){return new t(new C(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var O=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw m();let e=this.left.check();if(e!==this.right.check())throw m();return e+(this.isRed()?0:1)}};O.EMPTY=null,O.RED=!0,O.BLACK=!1;O.EMPTY=new class{constructor(){this.size=0}get key(){throw m()}get value(){throw m()}get color(){throw m()}get left(){throw m()}get right(){throw m()}copy(e,n,i,r,s){return this}insert(e,n,i){return new O(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var R=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ve(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=H(n)}setAll(e){let n=ce.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=H(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());Ve(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ge(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Ve(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){st(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(H(this.value))}};var ue=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,g.min(),g.min(),g.min(),R.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,g.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,g.min(),g.min(),R.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,g.min(),g.min(),R.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(g.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=R.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=R.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=g.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ke=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.S=null,this.N=null,this.O=null,this.startAt,this.endAt}};var Qe=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function xe(t){return w(!!t),g.fromTimestamp(function(n){let i=K(n);return new C(i.seconds,i.nanos)}(t))}function Dr(t,e){return Ye(t,e).canonicalString()}function Ye(t,e){let n=function(r){return new _(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Vr(t,e){return Dr(t.databaseId,e.path)}function $t(t,e){let n=function(r){let s=_.fromString(r);return w(Gt(s)),s}(e);if(n.get(1)!==t.databaseId.projectId)throw new u(h,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new u(h,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(function(r){return w(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}(n))}function xr(t,e){return"found"in e?function(i,r){w(!!r.found),r.found.name,r.found.updateTime;let s=$t(i,r.found.name),o=xe(r.found.updateTime),a=r.found.createTime?xe(r.found.createTime):g.min(),c=new R({mapValue:{fields:r.found.fields}});return ue.newFoundDocument(s,o,a,c)}(t,e):"missing"in e?function(i,r){w(!!r.missing),w(!!r.readTime);let s=$t(i,r.missing),o=xe(r.readTime);return ue.newNoDocument(s,o)}(t,e):m()}function Gt(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function Or(t){return new Qe(t,!0)}var Je=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.Y=!1}Z(){if(this.Y)throw new u(F,"The client has already been terminated.")}P(e,n,i,r){return this.Z(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.P(e,Ye(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Oe&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new u(z,s.toString())})}g(e,n,i,r,s){return this.Z(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.g(e,Ye(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Oe&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new u(z,o.toString())})}terminate(){this.Y=!0,this.connection.terminate()}};async function Cr(t,e){let n=lr(t),i={documents:e.map(a=>Vr(n.serializer,a))},r=await n.g("BatchGetDocuments",n.serializer.databaseId,_.emptyPath(),i,e.length),s=new Map;r.forEach(a=>{let c=xr(n.serializer,a);s.set(c.key.toString(),c)});let o=[];return e.forEach(a=>{let c=s.get(a.toString());w(!!c),o.push(c)}),o}var W=new Map;function kr(t){if(t._terminated)throw new u(F,"The client has already been terminated.");if(!W.has(t)){ie("ComponentProvider","Initializing Datastore");let e=function(s){return new qe(s,fetch.bind(null))}(function(s,o,a,c){return new $e(s,o,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,zt(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,t.app.options.appId||"",t._persistenceKey,t._freezeSettings())),n=Or(t._databaseId),i=function(s,o,a,c){return new Je(s,o,a,c)}(t._authCredentials,t._appCheckCredentials,e,n);W.set(t,i)}return W.get(t)}var le=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new u(h,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new u(h,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,o,a,c){if(o===!0&&c===!0)throw new u(h,`${s} and ${a} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zt((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new u(h,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new u(h,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new u(h,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Q=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new le({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new u(F,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new u(F,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new le(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ce;switch(i.type){case"firstParty":return new Le(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new u(h,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=W.get(n);i&&(ie("ComponentProvider","Removing Datastore"),W.delete(n),i.terminate())}(this),Promise.resolve()}};function Kt(t,e){let n=typeof t=="object"?t:xt(),i=typeof t=="string"?t:e||"(default)",r=Dt(n,"firestore/lite").getImmediate({identifier:i});if(!r._initialized){let s=dt("firestore");s&&Nr(r,...s)}return r}function Nr(t,e,n,i={}){var r;let s=(t=jt(t,Q))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ut("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=p.MOCK_USER;else{a=ft(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new u(h,"mockUserToken must contain 'sub' or 'user_id' field!");c=new p(d)}t._authCredentials=new ke(new se(a,c))}}var Xe=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},T=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Y(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Y=class t extends Xe{constructor(e,n,i){super(e,n,function(s){return new Ke(s)}(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new T(this.firestore,null,new P(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ot(t,e,...n){if(t=gt(t),arguments.length===1&&(e=Ue.newId()),Er("doc","path",e),t instanceof Q){let i=_.fromString(e,...n);return Nt(i),new T(t,null,new P(i))}{if(!(t instanceof T||t instanceof Y))throw new u(h,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(_.fromString(e,...n));return Nt(i),new T(t.firestore,t instanceof Y?t.converter:null,new P(i))}}var Ze=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(D.fromBase64String(e))}catch(n){throw new u(h,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(D.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var he=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new u(h,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ce(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var et=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new u(h,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new u(h,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}};var Fr=new RegExp("[~\\*/\\[\\]]");function Lr(t,e,n){if(e.search(Fr)>=0)throw qt(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new he(...e.split("."))._internalPath}catch{throw qt(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qt(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new u(h,a+t+c)}var de=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new T(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Mr("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},tt=class extends de{data(){return super.data()}};function Mr(t,e){return typeof e=="string"?Lr(t,e):e instanceof he?e._internalPath:e._delegate._internalPath}var nt=class extends class{convertValue(n,i="none"){switch(We(n)){case 0:return null;case 1:return n.booleanValue;case 2:return y(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(ze(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 10:return this.convertObject(n.mapValue,i);default:throw m()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){let r={};return st(n,(s,o)=>{r[s]=this.convertValue(o,i)}),r}convertGeoPoint(n){return new et(y(n.latitude),y(n.longitude))}convertArray(n,i){return(n.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(n,i){switch(i){case"previous":let r=Wt(n);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(He(n));default:return null}}convertTimestamp(n){let i=K(n);return new C(i.seconds,i.nanos)}convertDocumentKey(n,i){let r=_.fromString(n);w(Gt(r));let s=new oe(r.get(1),r.get(3)),o=new P(r.popFirst(5));return s.isEqual(i)||rt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ze(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new T(this.firestore,null,n)}};function at(t){let e=kr((t=jt(t,T)).firestore),n=new nt(t.firestore);return Cr(e,[t._key]).then(i=>{w(i.length===1);let r=i[0];return new de(t.firestore,n,t._key,r.isFoundDocument()?r:null,t.converter)})}(function(){(function(n){L=n})(`${Vt}_lite`),U(new E("firestore/lite",(e,{instanceIdentifier:n,options:i})=>{let r=e.getProvider("app").getImmediate(),s=new Q(new Ne(e.getProvider("auth-internal")),new Be(e.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new u(h,'"projectId" not provided in firebase.initializeApp.');return new oe(a.options.projectId,c)}(r,n),r);return i&&s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),S("firestore-lite","4.6.3",""),S("firestore-lite","4.6.3","esm2017")})();var Br={apiKey:"AIzaSyBfj1JWIPDwo4Fz7LKO1PhTKOIRI_MpzTs",authDomain:"shopify-reviews-422715.firebaseapp.com",projectId:"shopify-reviews-422715",storageBucket:"shopify-reviews-422715.appspot.com",messagingSenderId:"260432829218",appId:"1:260432829218:web:477853af8134c60439e37b"},$r=De(Br),Qt=Kt($r);async function qr(t,e){try{if(!t||!e)return{error:"Faltan argumentos"};let n=ot(Qt,`stores/${t}/products/${e}`),i=await at(n),r=i.data()?.reviews??[],s=ot(Qt,`stores/${t}`),a=(await at(s)).data()?.credits??0;return{active:!0,exists:i.exists(),credits:a,reviews:r}}catch(n){return n.code=="permission-denied"?{error:"La tienda no esta activa, verifica el pago"}:{error:n.message??n.toString()}}}window.firestore={reviews:qr};})();
/*! For license information please see https://github.com/Velkamhell97/shopify-ai-reviews/tree/main/dist/LICENSE.txt */