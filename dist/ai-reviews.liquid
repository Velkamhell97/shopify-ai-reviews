<link href="https://cdn.jsdelivr.net/gh/Velkamhell97/shopify-ai-reviews@e593cf263ca2bc76ff402335616a77d82c0a9511/dist/ai-reviews.css" rel="stylesheet" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/gh/Velkamhell97/shopify-ai-reviews@e593cf263ca2bc76ff402335616a77d82c0a9511/dist/ai-reviews-db.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.0/dist/cdn.min.js"></script>

{% liquid
  assign reviews = section.settings
  
  assign limit = product.media.size | minus: product.metafields.custom.reviews_with_images | plus: 1

  assign to = product.metafields.custom.reviews_with_images | default: 0

  if to == 0
    assign reviews_media = ""
  else
    assign from = to | times: -1
    assign reviews_media = product.media | slice: from, to
  endif
%}

{% style %}
  .product__media-list > li:nth-child(n+{{ limit }}) {
    display:none !important;
  }

  .thumbnail-list > li:nth-child(n+{{ limit }}) {
    display: none !important;
  }

  #shopify-section-{{ section.id }} {
    background-color: {{ reviews.background_color | default: 'transparent' }};
    --color-background: {{ reviews.background_color | default: '#fff' }};
    --color-foreground: {{ reviews.foreground_color | default: '#000' }};
  }

  .reviews-wrapper {
    margin-top: {{ reviews.margin_top }}px;
    margin-bottom: {{ reviews.margin_bottom }}px;
    padding-block: {{ reviews.padding_vertical }}px;
    {% if reviews.padding_horizontal != 0 %}
      padding-inline: {{ reviews.padding_horizontal }}px;
    {% endif %}
  }

  .reviews-actions__button--util {
    background-color: var(--color-background);
    color: var(--color-foreground);
    border: 1px solid color-mix(in srgb, var(--color-foreground) 50%, white);
    
    &:not(:disabled):hover {
      background-color: color-mix(in srgb, var(--color-foreground) 10%, var(--color-background));
      border: 1px solid var(--color-foreground);
    }
  }
{% endstyle %}

<div class="reviews-wrapper flex-col gap-4{% unless reviews.full_width %} page-width{% endunless %}" x-data="aiReviews" @form-submitted.window="addReview(event.detail)">
  <input id="store-id" type="hidden" value="{{ shop.id }}">
  <input id="product-id" type="hidden" value="{{ product.id }}">
  <input id="images-per-review" type="hidden" value="{{ product.metafields.custom.images_per_review | default: 1 }}">

  <!-- ACTION BUTTONS -->
  {%- if request.design_mode -%}
    <div class="reviews-actions row-center gap-4 flex-wrap">
      <div class="row-center gap-4">
        <!-- SAVE BUTTON -->
        <form @submit.prevent="saveReviews">
          <input type="hidden" name="storeId" value="{{ shop.id }}">
          <input type="hidden" name="productId" value="{{ product.id }}">
          <input type="hidden" name="productName" value="{{ product.title }}">
    
          <button type="submit" class="reviews-button reviews-actions__button--save" :disabled="loading">
            <span class="review-icon">
              <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"></path>
              </svg>
            </span>
    
            Guardar
          </button>
        </form>
        
        <!-- GENERATE BUTTON -->
        <form @submit.prevent="generateReviews">
          <input type="hidden" name="storeId" value="{{ shop.id }}">
          <input type="hidden" name="productId" value="{{ product.id }}">
          <input type="hidden" name="llm" value="{{ reviews.llm }}">
          <input type="hidden" name="style" value="{{ reviews.style }}">
          <input type="hidden" name="slangs" value="{{ reviews.slangs }}">
          <input type="hidden" name="description" value="{{ reviews.description }}">
          <input type="hidden" name="length" value="{{ reviews.length }}">
          <input type="hidden" name="words" value="{{ reviews.words }}">
          <input type="hidden" name="custom" value="{{ reviews.custom }}">
    
          <button type="submit" class="reviews-button reviews-actions__button--generate" :disabled="loading">
            <span class="review-icon">
              <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path>
              </svg>
            </span>
    
            Generar
          </button>
        </form>

      </div>

      <div class="row-center gap-4">
        <!-- NAMES BUTTON -->
        <form @submit.prevent="generateNames">
          <input type="hidden" name="storeId" value="{{ shop.id }}">
          <input type="hidden" name="productId" value="{{ product.id }}">
          <input type="hidden" name="llm" value="{{ reviews.llm }}">
          <input type="hidden" name="gender" value="{{ reviews.gender }}">
          <input type="hidden" name="length" value="{{ reviews.length }}">
    
          <button type="submit" class="reviews-button reviews-actions__button--util" :disabled="loading">
            <span class="review-icon">
              <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path>
              </svg>
            </span>
    
            Nombres
          </button>
        </form>
        
        <!-- STARS BUTTON -->
        <button type="button" @click="generateStars" class="reviews-button reviews-actions__button--util" :disabled="loading">
          <span class="review-icon">
            <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"></path>
            </svg>
          </span>
  
          Estrellas
        </button>

      </div>
    </div>
    
    <!-- ERROR & SUCCESS COLLAPSIBLE -->
    <custom-collapsible id="1">
      <div class="collapsible-wrapper">
        <div :class="error ? 'error-container' : success ? 'success-container' : ''" class="collapsible-content rounded-lg">
          <p class="m-0 p-4" x-text="error ? error.message : success ? success.message : ''"></p>
        </div>
      </div>
    </custom-collapsible>
  {%- endif -%}


  <!-- SECTION BLOCKS -->
  {%- for block in section.blocks -%}
    {%- case block.type -%}
      {%- when 'header' -%}
        {%- assign props = block.settings -%}

        {%- style -%}
          .reviews-header__title {
            font-size: {{ props.title_size_mobile }}rem;
            text-align: {{ props.title_align }};
          }

          @media screen and (width >= 750px) {
            .reviews-header__title {
              font-size: {{ props.title_size_desktop }}rem;
            }
          }
        {%- endstyle -%}

        <div class="reviews-header flex-col gap-4" style="color: {{ props.text_color | default: "currentColor" }}" {{ block.shopify_attributes }}>
          <!-- TITLE -->
          <h2 class="reviews-header__title text-inherit bold m-0">{{ props.title }}</h2>
      
          <div class="reviews-rating flex-center flex-wrap" style="gap: 2rem">
            <!-- AVERAGE -->
            <div class="col-center">
              <div class="row-center gap-3">
                <!-- HEADING -->
                <span class="reviews-rating__average" x-text="rating.average"></span>
                
                <!-- STARS -->
                <div class="row-center gap-1" style="color: {{ props.star_color | default: "currentColor" }}">
                  <template x-for="i in 5">
                    <span class="review-icon--large">
                      <svg data-slot="icon" fill="currentColor" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                      </svg>
                    </span>
                  </template>
                </div>
              </div>
              
              <!-- CAPTION -->
              <span class="reviews-rating__caption" x-text="`Basado en ${reviews.length} valoraciones.`"></span>
            </div>   
            

            <!-- INDIVIDUAL -->
            <div class="flex-col-reverse">
              <template x-for="i in 5">
                <div class="row-center gap-4">
                  <!-- STARS -->
                  <div class="row-center" style="color: {{ props.star_color | default: "currentColor" }};" >
                    <template x-for="j in 5">
                      <span class="review-icon">
                        <svg data-slot="icon" :fill="i >= j ? 'currentColor' : 'none'" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                        </svg>
                      </span>
                    </template>
                  </div>
                  
                  <!-- BARS -->
                  <div class="reviews-rating__bars" style="background-color: {{ props.bars_color | color_modify: 'alpha', 0.15 }};">
                    <div :style="`background-color: {{ props.bars_color }}; width: ${rating.individuals[i-1].p}%`"> </div>
                  </div>
                  
                  <!-- SCORE -->
                  <span class="reivews-rating__individual bold" x-text="`(${rating.individuals[i-1].v})`"></span>
                </div>
              </template>
            </div>

          </div>
        </div>
      {%- when 'form' -%}
        {%- assign props = block.settings -%}

        {%- style -%}
          .reviews-form-control, .review-form__file-button--delete, .review-form__submit {
            background-color: {{ props.button_background_color }};
            color: {{ props.button_foreground_color }};
          }

          .review-form__submit:disabled {
            background-color: {{ props.button_background_color | color_modify: 'alpha', 0.30 }};
            pointer-events:none;
          }

          .reviews-form-control:hover, .review-form__submit:hover {
            box-shadow: inset 0 0 0 150px rgba(255, 255, 255, 0.1), 0 0 0 1px {{ props.button_background_color }};
          }

          .reviews-input {
            box-shadow: 0 0 0 1px {{ props.border_color }};
          }

          .reviews-input:focus-visible {
            box-shadow: 0 0 0 2px {{ props.border_color }} !important;
          }
        {%- endstyle -%}

        <custom-collapsible 
          class="flex-col gap-4" style="padding-block:1rem;" {{ block.shopify_attributes }}  x-data="form"
          {%- if props.visible -%}open{%- endif -%}
        >
          <!-- CONTROL BUTTON -->
          <button class="reviews-button reviews-form-control" @click="$el.closest('custom-collapsible').toggle()">
            Escribe tu valoración
          </button>
          
          <!-- COLLAPIBLE -->
          <div class="collapsible-wrapper">
            <div class="collapsible-content flex-col" style="padding-inline:2px;">
              <!-- FORM -->
              <form @submit.prevent="submit" id="review-form" class="flex flex-wrap gap-4" style="color: {{ props.text_color | default: "currentColor" }};">
                <!-- FORM FILE -->
                <div class="review-form__file flex-center">
                  <!-- FILE INPUT -->
                  <input id="review-form__file-input" type="file" style="display:none" multiple @change="uploadImages">

                  <!-- FILE BUTTON -->
                  <template x-if="!images.length">
                    <label class="review-form__file-button--upload col-center leading-sm scale-effect" tabindex="0" for="review-form__file-input">
                      Sube una imagen
                      <span>Máximo 4MB</span>
                    </label>
                  </template>
                  
                  <!-- FILE SLIDESHOW -->
                  <template x-if="images.length">
                    <custom-slideshow class="relative w-full">
                      <!-- SLIDESHOW CONTROLS -->
                      <template x-if="!single">
                        <div class="absolute expanded">
                          <button type="button" class="review-button button--paginator" style="left: 20px;" @click="$el.closest('custom-slideshow').previousSlide()">
                            <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"></path>
                            </svg>
                          </button>
          
                          <button type="button" class="review-button button--paginator" style="right: 20px;" @click="$el.closest('custom-slideshow').nextSlide()">
                            <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                              <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path>
                            </svg>
                          </button>
                        </div>
                      </template>
                      
                      <!-- SLIDESHOW SCROLLABLE -->
                      <div class="form-slideshow slideshow-scrollable slideshow-manual">
                        <template x-for="(image, index) in images">
                          <!-- SLIDESHOW SLIDE -->
                          <div class="slideshow-slide relative">
                            <!-- REMOVE BUTTON -->
                            <button type="button" class="reviews-button review-form__file-button--delete scale-effect" @click="deleteImage(index)">
                              <span class="review-icon">
                                <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
                                </svg>
                              </span>
                            </button>
                            
                            <!-- IMAGE -->
                            <img  
                              class="review-image h-auto rounded-lg"
                              :src="image.src" 
                              :width="image.width" 
                              :height="image.height"
                              :srcset="image.srcset"
                              sizes="(max-width: 600px) 50vw, (max-width: 900px) 33.33vw, 25vw"
                              alt="Uploaded image"
                            >
                          </div>
                        </template>
                      </div>

                    </custom-slideshow>
                  </template>
                </div>
                
                <!-- FORM CONTENT -->
                <div class="review-form__content flex-col gap-4">
                  <!-- STARS SELECTOR -->
                  <div class="row-center gap-4">
                    <label>Puntuación:</label>
                    
                    <div class="review-form__stars-selector flex" style="color: {{ props.star_color | default: "currentColor" }};">
                      <template x-for="i in 5">
                        <span class="review-icon" @click="rate(i)">
                          <svg data-slot="icon" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                          </svg>
                        </span>
                      </template>
                    </div>
                  </div>
                  
                  <!-- INFO FIELDS -->
                  <div class="flex-col">
                    <label for="review-author">Nombre</label>
                    <input class="reviews-input" id="review-author" name="author" type="text" required>
                  </div>
          
                  <div class="flex-col">
                    <label for="review-description">Descripción</label>
                    <textarea class="reviews-input" id="review-description" name="description" type="text" rows="3" style="resize:none;" required></textarea>
                  </div>
                  
                  <!-- SUBMIT BUTTON -->
                  <button type="submit" class="reviews-button review-form__submit" :disabled="submitted">
                    Subir Reseña
                  </button>
                  
                  <!-- CONDITIONS -->
                  <span class="review-form__conditions">* Se revisara que el cliente haya adquirido el producto para aprobar su reseña. Se eliminara cualquier reseña con contenido obseno o lenguaje ofensivo</span>
                </div>

              </form>
            </div>
          </div>
        </custom-collapsible>
      {%- when 'reviews' -%}
        {%- assign props = block.settings -%}

        {%- style -%}
          #reviews-dialog {
            & .product-form__input--pill input[type=radio]+label {
              border: 1px solid {{ props.foreground_color | default: "black" | color_modify: 'alpha', 0.55 }};
            }

            & .product-form__input--pill input[type=radio]:checked+label {
              background-color: {{ props.foreground_color | default: "black" }};
              color: {{ props.background_color }};
            }
          }

          .review-slide__author {
            font-size: {{ props.author_size_mobile }}rem;
            {% if props.author_bold %}
            font-weight: bold;
            {% endif %}
          }

          .review-slide__body {
            font-size: {{ props.description_size_mobile }}rem;
            text-align: {{ props.align }};
          }

          .review-slide__date {
            font-size: {{ props.date_size_mobile }}rem;
          }

          @media screen and (width >= 750px) {
            .review-slide__author {
              font-size: {{ props.author_size_desktop }}rem;
            }
            
            .review-slide__body {
              font-size: {{ props.description_size_desktop }}rem;
            }

            .review-slide__date {
              font-size: {{ props.date_size_desktop }}rem;
            }
          }
        {%- endstyle -%}

        <custom-slideshow {{ block.shopify_attributes }} {%- if props.scroll == 'auto' -%}autoplay{%- endif -%}>
          <!-- PAGINATOR CONTROLS / SWIPE INDICATOR -->
          {%- if props.layout != 'layout-3' -%}
            {%- case props.scroll -%}
              {%- when 'manual' -%}
                <div class="flex justify-between" x-data="scroll">
                  <button type="button" class="reviews-button reviews-button--paginator" @click="previousReviewSlide()" :disabled="reviews.start"
                    style="background-color: {{ props.button_background_color }}; color: {{ props.button_foreground_color }};"
                  >
                    <span class="review-icon">
                      <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"></path>
                      </svg>
                    </span>
                  </button>
              
                  <button type="button" class="reviews-button reviews-button--paginator" @click="nextReviewSlide()" :disabled="reviews.end"
                    style="background-color: {{ props.button_background_color }}; color: {{ props.button_foreground_color }};"
                  >
                    <span class="review-icon">
                      <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path>
                      </svg>
                    </span>
                  </button>
                </div>
              {%- when 'snap' -%}
                <div class="row-center" style="color: {{ props.button_background_color | default: "currentColor" }}; margin-right: 1rem; justify-content: end;">
                  Desliza
    
                  <span class="review-icon">
                    <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3"></path>
                    </svg>
                  </span>
                </div>
            {%- endcase -%}
          {%- endif -%}

          <!-- LOADING PLACEHOLDER -->
          <template x-if="initialized">
            <div class="reviews-placeholder flex-center">
              <img src="https://res.cloudinary.com/dwzr9lray/image/upload/v1716827727/Shopify/starts-loading.gif" width="150" height="55" alt="loading">
            </div>
          </template>

          <!-- SLIDES -->
          {%- case props.layout -%}
            {%- when 'layout-1' -%}
              <div class="slideshow-scrollable slideshow-{{ props.scroll }} reviews-layout-1">
                <template x-for="(review, index) in reviews">
                  <div class="slideshow-slide review-closable">
                     <!-- DELETE BUTTON -->
                     {%- if request.design_mode -%}
                      <button class="reviews-button review-slide__button--delete scale-effect" @click="removeReview(index)">
                        <span class="review-icon">
                          <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
                          </svg>
                        </span>
                      </button>
                    {%- endif -%}

                    <!-- REVIEW SLIDE -->
                    <div 
                      class="review-slide flex-col p-4 rounded-lg"
                      style="background-color: {{ props.background_color }}; color: {{ props.foreground_color | default: "currentColor" }};"
                    > 
                      <!-- IMAGE -->
                      <template x-if="review.images">
                        <div class="review-slide__image rounded-lg" @click="expand(review)">
                          <template x-if="!review.single">
                            <div class="images-length-caption" style="right:0;" x-text="`${review.images.length} Imagenes`"></div>
                          </template>
                            
                          <img 
                            class="review-image"
                            :src="review.images[0].src" 
                            :width="review.images[0].width" 
                            :height="review.images[0].height"
                            :srcset="review.images[0].srcset"
                            sizes="(max-width: 600px) 50vw, (max-width: 900px) 33.33vw, 25vw"
                            :alt="`Product review ${index}`"
                            loading="lazy"
                          >
                        </div>
                      </template>
                      
                      <!-- CONTENT -->
                      <div class="flex-col gap-2">
                        <!-- HEADER -->
                        <div class="flex-col leading-sm">
                          <!-- CHECK + NAME + FLAG -->
                          <div class="row-center gap-3" style="margin-bottom: 2px">
                            <span class="review-icon" style="color: {{ props.check_color | default: "currentColor" }};">
                              <svg data-slot="icon" fill="currentColor" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path clip-rule="evenodd" fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z"></path>
                              </svg>
                            </span>
                            
                            <span class="review-slide__author" x-text="review.author"></span>
                            
                            <img :src="`https://res.cloudinary.com/dwzr9lray/image/upload/v1716677958/Shopify/country_flags/${country}.svg`" width="24" height="24" alt="country-flag" loading="lazy">
                          </div>
                          
                          <!-- DATE -->
                          <span class="review-slide__date" x-text="review.date"></span>
                          
                          <!-- STARS -->
                          <div class="flex" style="margin-left: -2px; gap: 1px; color: {{ props.star_color | default: "currentColor" }}">
                            <template x-for="i in 5">
                              <span style="width: {{ props.star_size }}px; height: {{ props.star_size }}px;">
                                <svg data-slot="icon" :fill="i <= review.stars ? 'currentColor' : 'none'" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                                </svg>
                              </span>
                            </template>
                          </div>
                        </div>
          
                        <!-- BODY -->
                        <div class="review-slide__body leading-md">
                          <p class="m-0" x-text="review.description"></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </template>
              </div>
            {%- when 'layout-2' -%}
              <div class="slideshow-scrollable slideshow-{{ props.scroll }} reviews-layout-2">
                <template x-for="(review, index) in reviews">
                  <div class="slideshow-slide review-closable"> 
                     <!-- DELETE BUTTON -->
                     {%- if request.design_mode -%}
                      <button class="reviews-button review-slide__button--delete" @click="removeReview(index)">
                        <span class="review-icon">
                          <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
                          </svg>
                        </span>
                      </button>
                    {%- endif -%}
                  
                    <!-- REVIEW SLIDE -->
                    <div 
                      class="review-slide flex-col p-4 rounded-lg"
                      style="background-color: {{ props.background_color }}; color: {{ props.foreground_color | default: "currentColor" }};"
                    >
                      <!-- HEADER -->
                      <div class="flex-col" style="padding-top: 0.5rem;">
                        <!-- CHECK + NAME + FLAG -->
                        <div class="row-center gap-3">
                          <span class="review-icon" style="color: {{ props.check_color | default: "currentColor" }};">
                            <svg data-slot="icon" fill="currentColor" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                              <path clip-rule="evenodd" fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z"></path>
                            </svg>
                          </span>
                          
                          <span class="review-slide__author" x-text="review.author"></span>
                          
                          <img :src="`https://res.cloudinary.com/dwzr9lray/image/upload/v1716677958/Shopify/country_flags/${country}.svg`" width="20" height="20" alt="country-flag" loading="lazy">
                        </div>
                        
                        <!-- STARS -->
                        <div class="flex" style="gap:1px; color: {{ props.star_color | default: "currentColor" }};">
                          <template x-for="i in 5">
                            <span style="width: {{ props.star_size }}px; height: {{ props.star_size }}px;">
                              <svg data-slot="icon" :fill="i <= review.stars ? 'currentColor' : 'none'" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                              </svg>
                            </span>
                          </template>
                        </div>
                      </div>
          
                      <!-- IMAGE -->
                      <template x-if="review.images">
                        <div class="review-slide__image rounded-lg" @click="expand(review)">
                          <template x-if="!review.single">
                            <div class="images-length-caption" style="right:0;" x-text="`${review.images.length} Imagenes`"></div>
                          </template>
  
                          <img 
                            class="review-image"
                            :src="review.images[0].src" 
                            :width="review.images[0].width" 
                            :height="review.images[0].height"
                            :srcset="review.images[0].srcset"
                            sizes="(max-width: 600px) 50vw, (max-width: 900px) 33.33vw, 25vw"
                            :alt="`Product review ${index}`"
                            loading="lazy"
                          >
                        </div>
                      </template>
          
                      <!-- BODY -->
                      <div class="review-slide__body leading-md">
                        <p class="m-0" x-text="review.description"></p>
                      </div>
          
                      <!-- DATE -->
                      <div class="review-slide__date">
                        <span x-text="review.date"></span>
                      </div>
                    </div>
                  </div>
                </template>
              </div>
            {%- when 'layout-3' -%}
              <div class="reviews-layout-3">
                <template x-for="(review, index) in reviews">
                  <div class="review-closable">
                    <!-- DELETE BUTTON -->
                    {%- if request.design_mode -%}
                      <button class="reviews-button review-slide__button--delete" @click="removeReview(index)">
                        <span class="review-icon">
                          <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
                          </svg>
                        </span>
                      </button>
                    {%- endif -%}

                    <!-- REVIEW SLIDE -->
                    <div 
                      class="review-slide flex-col rounded-lg"
                      style="background-color: {{ props.background_color }}; color: {{ props.foreground_color | default: "currentColor" }};"
                    >
                      <!-- IMAGE -->
                      <template x-if="review.images">
                        <div class="review-slide__image" @click="expand(review)">
                          <template x-if="!review.single">
                            <div class="images-length-caption" style="right:0;" x-text="`${review.images.length} Imagenes`"></div>
                          </template>

                          <img 
                            class="review-image"
                            :src="review.images[0].src" 
                            :width="review.images[0].width" 
                            :height="review.images[0].height"
                            :srcset="review.images[0].srcset"
                            sizes="(max-width: 600px) 50vw, (max-width: 900px) 33.33vw, 25vw"
                            :alt="`Product review ${index}`"
                            loading="lazy"
                          >
                        </div>
                      </template>
                      
                      <!-- CONTENT -->
                      <div class="flex-col p-4 gap-3">
                        <!-- HEADER -->
                        <div class="flex-col">
                          <!-- CHECK + NAME + FLAG -->
                          <div class="row-center gap-3">
                            <span class="review-icon" style="color: {{ props.check_color | default: "currentColor" }};">
                              <svg data-slot="icon" fill="currentColor" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path clip-rule="evenodd" fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z"></path>
                              </svg>
                            </span>
                            
                            <span class="review-slide__author" x-text="review.author"></span>
                            
                            <img :src="`https://res.cloudinary.com/dwzr9lray/image/upload/v1716677958/Shopify/country_flags/${country}.svg`" width="20" height="20" alt="country-flag" loading="lazy">
                          </div>
                          
                          <!-- STARS -->
                          <div class="flex" style="gap:1px; color: {{ props.star_color | default: "currentColor" }};">
                            <template x-for="i in 5">
                              <span style="width: {{ props.star_size }}px; height: {{ props.star_size }}px;">
                                <svg data-slot="icon" :fill="i <= review.stars ? 'currentColor' : 'none'" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                  <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                                </svg>
                              </span>
                            </template>
                          </div>
                        </div>
                        
                        <!-- BODY -->
                        <div class="review-slide__body leading-md">
                          <p class="m-0" x-text="review.description"></p>
                        </div>
                        
                        <!-- DATE -->
                        <span class="review-slide__date" x-text="review.date"></span>
                      </div>
                    </div>
                  </div>

                </template>
              </div>
          {%- endcase -%}
        </custom-slideshow>

        <dialog id="reviews-dialog" x-data="scroll" {%- if props.visible -%}open{%- endif -%}
          style="background-color: {{ props.background_color }}; color: {{ props.foreground_color | default: "black" }};"
        >
          {%- assign product_form_id = 'product-form-' | append: section.id -%}

          <!-- CLOSE BUTTON -->
          <button class="reviews-button dialog-button--close scale-effect" style="color: {{ props.foreground_color | default: "black" }}">
            <span class="review-icon--large">
              <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
              </svg>
            </span>
          </button>

          <!-- PRODUCT INFO -->
          <product-info
            id="ProductInfo-{{ section.id }}"
            data-section="{{ section.id }}"
            data-url="{{ product.url }}"
          >
            <div class="dialog-wrapper flex-col gap-4" @mousedown.outside="expand(null)"> 
              <!-- DIALOG MEDIA -->
              <div class="dialog-media col-center">
                <custom-slideshow class="relative w-full">
                  <!-- PAGINATOR BUTTONS -->
                  <template x-if="!expandedReview?.single">
                    <div class="absolute expanded">
                      <button class="review-button button--paginator" style="left: 5px;" @click="previousDialogSlide">
                        <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5"></path>
                        </svg>
                      </button>
      
                      <button class="review-button button--paginator" style="right: 5px;" @click="nextDialogSlide()">
                        <svg data-slot="icon" fill="none" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"></path>
                        </svg>
                      </button>
                    </div>
                  </template>

                  <!-- IMAGES SLIDESHOW -->
                  <div class="dialog-slideshow slideshow-scrollable slideshow-manual">
                    <template x-for="(image, index) in expandedReview?.images ?? []">
                      <div class="slideshow-slide">
                        <img 
                          class="review-image rounded-lg" 
                          :src="image.src" 
                          :width="image.width" 
                          :height="image.height"
                          :srcset="image.srcset"
                          sizes="(max-width: 600px) 50vw, (max-width: 900px) 33.33vw, 25vw"
                          alt="Product Review expanded"
                        >
                      </div>
                    </template>
                  </div>
                </custom-slideshow>

                <!-- CURRENT SLIDE -->
                <div x-text="`${dialog.current}/${expandedReview?.images?.length ?? 1}`"></div>
              </div>

              <!-- DIALOG CONTENT -->
              <div class="dialog-content flex-col flex-1 gap-4">
                <!-- HEADER -->
                <div class="flex-col">
                  <!-- CHECK + NAME + FLAG -->
                  <div class="row-center gap-3">
                    <span class="review-icon" style="color: {{ props.check_color | default: "currentColor" }};">
                      <svg data-slot="icon" fill="currentColor" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                        <path clip-rule="evenodd" fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.844-8.791a.75.75 0 0 0-1.188-.918l-3.7 4.79-1.649-1.833a.75.75 0 1 0-1.114 1.004l2.25 2.5a.75.75 0 0 0 1.15-.043l4.25-5.5Z"></path>
                      </svg>
                    </span>
                    
                    <span class="review-slide__author" x-text="expandedReview?.author"></span>
                    
                    <img :src="`https://res.cloudinary.com/dwzr9lray/image/upload/v1716677958/Shopify/country_flags/${country}.svg`" width="20" height="20" alt="country-flag" loading="lazy">
                  </div>

                  <!-- STARS -->
                  <div class="flex" style="gap:1px; color: {{ props.star_color | default: "currentColor" }}">
                    <template x-for="i in 5">
                      <span style="width: {{ props.star_size }}px; height: {{ props.star_size }}px;">
                        <svg data-slot="icon" :fill="i <= (expandedReview?.stars ?? 5) ? 'currentColor' : 'none'" stroke-width="1.5" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path>
                        </svg>
                      </span>
                    </template>
                  </div>
                </div>

                <!-- BODY -->
                <div class="review-slide__body leading-md">
                  <p class="m-0" x-text="expandedReview?.description"></p>
                </div>

                <hr style="margin: 0; background-color: currentColor">

                <!-- PRODUCT FORM -->
                <div class="flex-col">
                  <div style="text-align: start;">
                    {% render 'product-variant-picker',
                      product: product,
                      block: section.blocks.last,
                      product_form_id: product_form_id
                    %}
                  </div>

                  <div @click="expand(null)">
                    <a href="/rsi-btn-hook"></a>
                  </div>
                </div>
              </div>

            </div>
          </product-info>
        </dialog>
    {%- endcase -%}
  {%- endfor -%}


  <!-- MEDIA JSON -->
  <script id="reviews-media">
    {{ reviews_media | json }}
  </script>
</div>


<script src="https://cdn.jsdelivr.net/gh/Velkamhell97/shopify-ai-reviews@e593cf263ca2bc76ff402335616a77d82c0a9511/dist/ai-reviews.js"></script>

{% schema %}
  {
    "name": "Reseñas",
    "limit": 1,
    "settings": [
      {
        "type": "select",
        "id": "llm",
        "label": "Modelo",
        "options": [
          {
            "value": "GPT",
            "label": "ChatGPT (OpenAI)"
          },
          {
            "value": "Llama",
            "label": "Llama (Meta)"
          }
        ],
        "default": "GPT"
      },
      {
        "type": "select",
        "id": "style",
        "label": "Estilo",
        "options": [
          {
            "value": "neutral",
            "label": "Neutro"
          },
          {
            "value": "incredulous",
            "label": "Incrédulo"
          },
          {
            "value": "story",
            "label": "Historia"
          },
          {
            "value": "mixed",
            "label": "Mixto"
          }
        ],
        "default": "neutral"
      },
      {
        "type": "checkbox",
        "id": "slangs",
        "label": "Utilizar expresiones locales",
      },
      {
        "type": "textarea",
        "id": "description",
        "label": "Descripción del producto"
      },
      {
        "type": "checkbox",
        "id": "custom",
        "label": "Prompt personalizado (avanzado)",
        "info": "Pasa directamente un prompt a la inteligencia artificial. Leer los manuales para evitar posibles errores",
        "default": false
      },
      {
        "type": "select",
        "id": "gender",
        "label": "Género",
        "options": [
          {
            "value": "unespecified",
            "label": "Cualquiera"
          },
          {
            "value": "male",
            "label": "Masculino"
          },
          {
            "value": "female",
            "label": "Femenino"
          }
        ],
        "default": "unespecified"
      },
      {
        "type": "range",
        "id": "length",
        "min": 5,
        "max": 30,
        "step": 5,
        "unit": "res",
        "label": "Número de reseñas",
        "default": 5
      },
      {
        "type": "range",
        "id": "words",
        "min": 10,
        "max": 40,
        "step": 5,
        "unit": "pal",
        "label": "Número de palabras",
        "default": 30
      },

      {
        "type": "header",
        "content": "General"
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Color de fondo"
      },
      {
        "type": "color",
        "id": "foreground_color",
        "label": "Color de texto"
      },
      {
        "type": "checkbox",
        "id": "full_width",
        "label": "Tamaño completo en computador",
        "default": false
      },
      {
        "type": "range",
        "id": "margin_top",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Separación superior",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Separación inferior",
        "default": 0
      },
      {
        "type": "range",
        "id": "padding_vertical",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Relleno vertical",
        "default": 20
      },
      {
        "type": "range",
        "id": "padding_horizontal",
        "min": 0,
        "max": 100,
        "step": 4,
        "unit": "px",
        "label": "Relleno horizontal",
        "default": 0
      }
    ],
    "blocks": [
      {
        "name": "Encabezado",
        "type": "header",
        "limit": 1,
        "settings": [
          {
            "type": "inline_richtext",
            "id": "title",
            "label": "Título",
            "default": "Valoraciones"
          },
          {
            "type": "text_alignment",
            "id": "title_align",
            "label": "Alineación del título",
            "default": "center"
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "Color del texto",
          },
          {
            "type": "color",
            "id": "star_color",
            "label": "Color de las estrellas",
          },
          {
            "type": "color",
            "id": "bars_color",
            "label": "Color de las barras",
            "default": "#000"
          },

          {
            "type": "range",
            "id": "title_size_mobile",
            "label": "Tamaño del titulo celular",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "rem",
            "default": 2
          },
          {
            "type": "range",
            "id": "title_size_desktop",
            "label": "Tamaño del titulo computador",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "rem",
            "default": 3
          },
        ]
      },


      {
        "name": "Formulario",
        "type": "form",
        "limit": 1,
        "settings": [
          {
            "type": "checkbox",
            "id": "visible",
            "label": "Mantener abierto",
            "info": "Desactivar cuando se termine de personalizar",
            "default": false,
          },
          {
            "type": "color",
            "id": "text_color",
            "label": "Color del texto"
          },
          {
            "type": "color",
            "id": "star_color",
            "label": "Color de las estrellas"
          },
          {
            "type": "color",
            "id": "border_color",
            "label": "Color de borde de los campos",
            "default": "#c3c3c3"
          },
          {
            "type": "color",
            "id": "button_background_color",
            "label": "Color de fondo botones",
            "default": "#000"
          },
          {
            "type": "color",
            "id": "button_foreground_color",
            "label": "Color de texto botones",
            "default": "#fff"
          },
        ]
      },


      {
        "name": "Reseñas",
        "type": "reviews",
        "limit": 1,
        "settings": [
          {
            "type": "select",
            "id": "layout",
            "label": "Diseño",
            "options": [
              {
                "value": "layout-1",
                "label": "Diseño 1"
              },
              {
                "value": "layout-2",
                "label": "Diseño 2"
              },
              {
                "value": "layout-3",
                "label": "Diseño 3"
              },
            ],
            "default": "layout-2"
          },
          {
            "type": "select",
            "id": "scroll",
            "label": "Desplazamiento",
            "options": [
              {
                "value": "auto",
                "label": "Automático"
              },
              {
                "value": "manual",
                "label": "Botones"
              },
              {
                "value": "snap",
                "label": "Deslizar"
              }
            ],
            "default": "manual"
          },
          {
            "type": "color",
            "id": "button_background_color",
            "label": "Color de fondo botones",
            "default": "#000"
          },
          {
            "type": "color",
            "id": "button_foreground_color",
            "label": "Color de texto botones",
            "default": "#fff"
          },

          {
            "type": "color",
            "id": "background_color",
            "label": "Color del fondo",
            "default": "#fff"
          },
          {
            "type": "color",
            "id": "foreground_color",
            "label": "Color del texto"
          },
          {
            "type": "color",
            "id": "star_color",
            "label": "Color estrellas"
          },
          {
            "type": "range",
            "id": "star_size",
            "label": "Tamaño estrellas",
            "min": 20,
            "max": 40,
            "step": 1,
            "unit": "px",
            "default": 20
          },
          {
            "type": "color",
            "id": "check_color",
            "label": "Color del verificado"
          },
          {
            "type": "select",
            "id": "align",
            "label": "Alineacion del texto",
            "options": [
              {
                "value": "start",
                "label": "Normal"
              },
              {
                "value": "justify",
                "label": "Justificado"
              },
            ],
            "default": "start"
          },

          

          {
            "type": "range",
            "id": "author_size_mobile",
            "label": "Tamaño autor celular",
            "min": 0,
            "max": 3,
            "step": 0.1,
            "unit": "rem",
            "default": 1.8
          },
          {
            "type": "range",
            "id": "author_size_desktop",
            "label": "Tamaño autor computador",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "rem",
            "default": 2
          },
          {
            "type": "checkbox",
            "id": "author_bold",
            "label": "Autor en negrilla",
            "default": false
          },
          {
            "type": "range",
            "id": "description_size_mobile",
            "label": "Tamaño descripción celular",
            "min": 0,
            "max": 3,
            "step": 0.1,
            "unit": "rem",
            "default": 1.5
          },
          {
            "type": "range",
            "id": "description_size_desktop",
            "label": "Tamaño descripción computador",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "rem",
            "default": 1.8
          },
          {
            "type": "range",
            "id": "date_size_mobile",
            "label": "Tamaño fecha celular",
            "min": 0,
            "max": 3,
            "step": 0.1,
            "unit": "rem",
            "default": 1.5
          },
          {
            "type": "range",
            "id": "date_size_desktop",
            "label": "Tamaño fecha computador",
            "min": 0,
            "max": 5,
            "step": 0.1,
            "unit": "rem",
            "default": 1.8
          },
        ]
      },

      
      {
        "type": "variant_picker",
        "name": "t:sections.main-product.blocks.variant_picker.name",
        "limit": 1,
        "settings": [
          {
            "type": "select",
            "id": "picker_type",
            "options": [
              {
                "value": "dropdown",
                "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.options__1.label"
              },
              {
                "value": "button",
                "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.options__2.label"
              }
            ],
            "default": "button",
            "label": "t:sections.main-product.blocks.variant_picker.settings.picker_type.label"
          },
          {
            "id": "swatch_shape",
            "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.label",
            "type": "select",
            "info": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.info",
            "options": [
              {
                "value": "circle",
                "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.options__1.label"
              },
              {
                "value": "square",
                "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.options__2.label"
              },
              {
                "value": "none",
                "label": "t:sections.main-product.blocks.variant_picker.settings.swatch_shape.options__3.label"
              }
            ],
            "default": "circle"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "AI Reviews",
        "blocks": [
          {
            "type": "header"
          },
          {
            "type": "form"
          },
          {
            "type": "reviews"
          },
          {
            "type": "variant_picker"
          }
        ]
      }
    ]
  }
{% endschema %}